{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="Codescandy" />

<!-- Favicon icon-->
<link rel="shortcut icon" type="image/x-icon" href="{% static 'assets/images/favicon/favicon.ico' %}" />

<!-- darkmode js -->
<script src="{% static 'assets/js/vendors/darkMode.js' %}"></script>

<!-- Libs CSS -->
<link href="{% static 'assets/fonts/feather/feather.css' %}" rel="stylesheet" />
<link href="{% static 'assets/libs/bootstrap-icons/font/bootstrap-icons.min.css' %}" rel="stylesheet" />
<link href="{% static 'assets/libs/simplebar/dist/simplebar.min.css' %}" rel="stylesheet" />

<!-- Theme CSS -->
<link rel="stylesheet" href="{% static 'assets/css/theme.min.css' %}">
        <link rel="canonical" href="https://geeksui.codescandy.com/geeks/pages/dashboard-student.html">
        <title>ITAuditLab | Hands-On IT Audit & GRC Learning Platform</title>
    </head>

    <body>
       <nav class="navbar navbar-expand-lg">
  <div class="container-fluid px-0">

      <a href="{% url 'dashboard_student' %}" class="d-flex align-items-center gap-2 text-decoration-none">
        <img src="{% static 'assets/images/brand/logo/logo.svg' %}" width="250" alt="ITAuditLab logo" />
    </a>


    <!-- Mobile view nav wrap -->
    <div class="ms-auto d-flex align-items-center order-lg-3">
      <div class="dropdown">
        <button class="btn btn-light btn-icon rounded-circle d-flex align-items-center" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)">
          <i class="bi theme-icon-active"></i>
          <span class="visually-hidden bs-theme-text">Toggle theme</span>
        </button>
        <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bs-theme-text">
          <li>
            <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
              <i class="bi theme-icon bi-sun-fill"></i>
              <span class="ms-2">Light</span>
            </button>
          </li>
          <li>
            <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
              <i class="bi theme-icon bi-moon-stars-fill"></i>
              <span class="ms-2">Dark</span>
            </button>
          </li>
          <li>
            <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
              <i class="bi theme-icon bi-circle-half"></i>
              <span class="ms-2">Auto</span>
            </button>
          </li>
        </ul>
      </div>
      <ul class="navbar-nav navbar-right-wrap ms-2 flex-row d-none d-md-block">
        <li class="dropdown ms-2 d-inline-block position-static">
          <a class="rounded-circle" href="#" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
            <div class="avatar avatar-md avatar-indicators avatar-online bg-primary text-white fw-bold rounded-circle d-flex align-items-center justify-content-center">
              {{ user.first_name|slice:":1" }}{{ user.last_name|slice:":1" }}
            </div>
          </a>
          <div class="dropdown-menu dropdown-menu-end position-absolute mx-3 my-5">
            <div class="dropdown-item">
              <div class="d-flex">
                <div class="avatar avatar-md avatar-indicators avatar-online bg-primary text-white fw-bold rounded-circle d-flex align-items-center justify-content-center">
                  {{ user.first_name|slice:":1" }}{{ user.last_name|slice:":1" }}
                </div>
                <div class="ms-3 lh-1">
                  <h5 class="mb-1">{{ user.first_name }} {{ user.last_name }}</h5>
                  <p class="mb-0">{{ user.email }}</p>
                </div>
              </div>
            </div>
            <div class="dropdown-divider"></div>
            <ul class="list-unstyled">
              <li>
                <a class="dropdown-item" href="{% url 'logout' %}">
                  <i class="fe fe-power me-2"></i>
                  Sign Out
                </a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
    <div>
      <!-- Button -->
      <button
        class="navbar-toggler collapsed ms-2"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbar-default"
        aria-controls="navbar-default"
        aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="icon-bar top-bar mt-0"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
    </div>

  </div>
</nav>

      {% block content %}

      {% endblock %}

              <!-- Footer -->
                <!-- Footer -->
      <footer class="footer">
          <div class="container">
              <div class="row align-items-center g-0 border-top py-2">
                  <!-- Desc -->
                  <div class="col-md-6 col-12 text-center text-md-start">
                      <span>
                          ©
                          <span id="copyright">
                              <script>
                                  document.getElementById("copyright").appendChild(document.createTextNode(new Date().getFullYear()));
                              </script>
                          </span>
                          ITAuditLab. All Rights Reserved.
                      </span>
                  </div>
                  <!-- Links -->
                  <div class="col-12 col-md-6">
                    <nav class="nav nav-footer justify-content-center justify-content-md-end">
                      <a class="nav-link active ps-0" href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy</a>
                      <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms</a>
                      <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#feedbackModal">Feedback</a>
                      <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#supportModal">Support</a>
                    </nav>
                  </div>
              </div>
          </div>
      </footer>


              <!-- Scroll top -->
              <div class="btn-scroll-top">
          <svg class="progress-square svg-content" width="100%" height="100%" viewBox="0 0 40 40">
              <path d="M8 1H32C35.866 1 39 4.13401 39 8V32C39 35.866 35.866 39 32 39H8C4.13401 39 1 35.866 1 32V8C1 4.13401 4.13401 1 8 1Z" />
          </svg>
      </div>

      <!-- Scripts -->
      <!-- Libs JS -->
      <script src="{% static 'assets/libs/@popperjs/core/dist/umd/popper.min.js' %}"></script>
      <script src="{% static 'assets/libs/bootstrap/dist/js/bootstrap.min.js' %}"></script>
      <script src="{% static 'assets/libs/simplebar/dist/simplebar.min.js' %}"></script>

      <!-- Theme JS -->
      <script src="{% static 'assets/js/theme.min.js' %}"></script>

      <!-- Theme JS -->
      <script src="{% static 'assets/js/theme.min.js' %}"></script>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

      <script src="{% static 'assets/libs/tippy.js/dist/tippy-bundle.umd.min.js' %}"></script>

      <script src="{% static 'assets/js/vendors/tooltip.js' %}"></script>
      <script src="{% static 'assets/libs/glightbox/dist/js/glightbox.min.js' %}"></script>
      <script src="{% static 'assets/js/vendors/glight.js' %}"></script>

      <script>
        document.addEventListener('DOMContentLoaded', function () {
          const modals = document.querySelectorAll('.modal');

          modals.forEach(modal => {
            modal.addEventListener('show.bs.modal', function () {
              const video = modal.querySelector('video');
              if (video) {
                video.play();
              }
            });

            modal.addEventListener('hide.bs.modal', function () {
              const video = modal.querySelector('video');
              if (video) {
                video.pause();
                video.currentTime = 0;
              }
            });
          });
        });
      </script>

      <div class="modal-body p-0">
        <video id="previewPlayer"
               controls muted playsinline preload="metadata"
               style="width:100%;height:auto;"></video>
      </div>

      <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
      <script>
      document.addEventListener('DOMContentLoaded', function () {
        const modal = document.getElementById('previewModal'); // your modal id
        const url   = "{{ first_video_url|default:'' }}";      // your Direct Play URL

        function loadAndPlay() {
          const v = document.getElementById('previewPlayer');
          if (!url || !v) return;

          // HLS (.m3u8) → Safari/iOS native, others via hls.js
          if (url.endsWith('.m3u8')) {
            if (v.canPlayType('application/vnd.apple.mpegurl')) {
              v.src = url;
              v.play().catch(()=>{});
            } else if (window.Hls && Hls.isSupported()) {
              if (v._hls) { v._hls.destroy(); v._hls = null; }
              const hls = new Hls();
              v._hls = hls;
              hls.loadSource(url);
              hls.attachMedia(v);
              hls.on(Hls.Events.MANIFEST_PARSED, () => v.play().catch(()=>{}));
              // debug
              hls.on(Hls.Events.ERROR, (e, data) => console.warn('HLS error', data));
            } else {
              // Last-ditch: try setting src anyway
              v.src = url;
              v.play().catch(()=>{});
            }
          } else {
            // MP4 (Direct Play URL)
            v.src = url;
            v.play().catch(()=>{});
          }

          // basic error logging
          v.addEventListener('error', () => console.warn('video error', v.error));
        }

        function stopAndCleanup() {
          const v = document.getElementById('previewPlayer');
          if (!v) return;
          try { v.pause(); } catch(e){}
          if (v._hls) { v._hls.destroy(); v._hls = null; }
          v.removeAttribute('src'); v.load();
        }

        modal.addEventListener('shown.bs.modal', loadAndPlay);
        modal.addEventListener('hidden.bs.modal', stopAndCleanup);
      });
      </script>



      <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        We respect your privacy. ITAuditLab collects only essential user data for login and personalization. Your data is stored securely and never shared with third parties without consent. For full details, visit our Privacy Documentation.
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsModalLabel">Terms & Conditions</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        By using ITAuditLab, you agree not to redistribute our course content or share login credentials. Unauthorized access or copying of materials is strictly prohibited. All rights reserved to the platform creator.
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title mb-0" id="feedbackModalLabel">Need Help?</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center py-5">
        <i class="fe fe-mail fs-1 text-primary mb-3"></i>
        <p class="mb-3 fs-5">Have a question or want to report an issue?</p>
        <p class="mb-4">Reach out to us at:</p>
        <a href="mailto:support@itauditlab.com" class="btn btn-outline-primary px-4 py-2">
          support@itauditlab.com
        </a>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="supportModal" tabindex="-1" aria-labelledby="supportModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="supportModalLabel">Support</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        For technical issues, questions, or help using the platform, please email us at <a href="mailto:support@itauditlab.com">support@itauditlab.com</a> or fill in the contact form on the dashboard.
      </div>
    </div>
  </div>
</div>



          </body>
      </html>
